# ShadowChrome

ShadowChrome — это эксперимент по созданию защищённого канала связи прямо в браузере. Расширение принимает один ключ `ss://` или `ssconf://`, скачивает список серверов Shadowsocks и выполняет всю работу в среде Manifest V3, не полагаясь на нативные службы.

> **Статус:** сервис-воркер парсит конфигурации, настраивает прокси Chrome и запускает полноценный Shadowsocks‑клиент на `chrome.sockets` с шифрованием AES‑256‑GCM.

## Установка
1. Откройте `chrome://extensions/` и включите **Режим разработчика**.
2. Нажмите **Load unpacked** и выберите каталог `src` с `manifest.json`.

## Как пользоваться
1. Нажмите на иконку ShadowChrome, чтобы открыть всплывающее окно. В шапке сразу доступен выбор языка и кнопка‑шестерёнка, ведущая на страницу настроек.
2. Вставьте ключ `ss://` или `ssconf://` и нажмите **Импортировать ключ доступа**. Расширение сохранит все серверы из подписки и свернёт поле ввода, чтобы окно сосредоточилось на выборе локации.
3. Если доступно несколько серверов, список автоматически сортируется по самой быстрой заявленной задержке. Выберите локацию и нажмите **Подключить** — Chrome начнёт использовать локальный Shadowsocks‑клиент (`127.0.0.1:1080`).
4. Нажмите **Отключить**, чтобы вернуть исходные настройки прокси.
5. Кнопка **Настройки** в заголовке открывает отдельную страницу с языками, доменными списками CensorTracker, менеджерами Outline и диагностикой.
6. Если прямое подключение не удаётся, расширение автоматически запрашивает резервные узлы в сети CensorTracker и пытается подключиться через них до вывода ошибки.

## Архитектура
- `popup.html` / `popup.js` обеспечивают компактный интерфейс подключения: импорт ключа, выбор локации, запуск и остановка прокси.
- `options.html` / `options.js` содержат полный набор настроек: языки, управление реестром CensorTracker, сохранённые серверы, менеджеры Outline и диагностику.
- `ssConfig.js` использует парсер Outline для обработки ссылок `ss://` и `ssconf://` и разворачивает подписки в конкретные конфигурации.
- `registry.js` объединяет домены CensorTracker с пользовательскими переопределениями и списком исключений.
- `background.js` запускает Shadowsocks‑клиент и применяет прокси‑настройки Chrome.
- `censortrackerServer.js` синхронизирует реестр CensorTracker и сохраняет резервные Shadowsocks‑серверы, предоставляемые сетью CensorTracker.

Подробное описание рабочих процессов находится в [`docs/DETAILED_DOCUMENTATION.md`](docs/DETAILED_DOCUMENTATION.md), а руководство пользователя — в [`docs/USER_GUIDE.md`](docs/USER_GUIDE.md).

## Лицензия
[MIT](LICENSE).
