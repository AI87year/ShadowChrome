# ShadowChrome

ShadowChrome — ин як таҷрибаи ҷасурона барои сохтани канали мустаҳками иртибот мустақиман дар браузер аст. Васеъшавӣ як калиди `ss://` ё `ssconf://`-ро қабул мекунад, ба экосистемаи умумии Shadowsocks пайваст шуда, нодҳои дастрасро меёбад ва боқимондаи амалҳоро дар дохили Chrome анҷом медиҳад. Радд аз ёрирасонҳои маҳаллӣ ва такя танҳо ба муҳити MV3 бояд тамошои рамзгузоришударо шаффоф, сайёр ва осон барои аудит кунад.

Лоиҳа аз ҷониби зеҳни сунъӣ офарида шудааст. Дар соли 2025 генерацияи код аз GPT‑5 қувва мегирад ва равиши «бе-код»-ро меозмояд: тавсифҳои муфассали техникӣ бевосита ба коди корӣ табдил меёбанд ва имкон медиҳанд нармафзори мураккаб аз спецификатсияҳои босифат ҷамъ карда шавад.

> **Вазъ:** сервери кӯҳнаи ёрирасони Node.js хориҷ шуд. Service worker истинодҳои конфигуратсияро таҳлил мекунад, проксии Chrome-ро танзим мекунад ва ҳоло мизоҷи пурраи Shadowsocks-ро бо `chrome.sockets` ва рамзгузории AES‑256‑GCM роҳандозӣ менамояд.

## Фалсафа
ShadowChrome аз чанд ғояи асосӣ роҳнамоӣ мегирад, ки рушди онро шакл медиҳанд:

- **Озодӣ ва махфият.** Лоиҳа барои баргардонидани пайвасти хусусӣ бидуни насби абзорҳои баста ва сатҳӣ дар сатҳи система вуҷуд дорад.
- **Шаффофият.** Ҳар сатри код дар дохили васеъшавӣ иҷро мешавад; ҷомеа метавонад онро санҷад, аз нав бисозад ва тағйир диҳад.
- **Худкифоӣ.** Ҳамаи мантиқ дар браузер иҷро мешавад; ягон демонҳои маҳаллӣ ё равандҳои проксии беруна талаб намешавад.
- **Соддагӣ.** Пайваст шудан бояд мисли часпонидани истинод ва зер кардани тугма осон бошад, то гузаштан аз сензура барои шурӯъкунандагон дастрастар гардад.
- **Диди «сифр-код».** Базаи коди ShadowChrome аз вазифаҳои возеҳ тавассути ЗС тавлид мешавад, нишон медиҳад, ки чӣ гуна барномаҳои мураккаб аз спецификатсияҳои хуб навишта ба вуҷуд меоянд.

Ин принсипҳо ҳам меъморӣ ва ҳам нақшаи дарозмуддатро муайян мекунанд.

## Насб
1. Ба `chrome://extensions/` гузаред ва **Developer mode**-ро фаъол кунед, то Chrome иҷозати иҷрои васеъшавиҳои кушодаро диҳад.
2. **Load unpacked**-ро зер кунед ва директорияи `src`-ро интихоб намоед, ки манифест ва скриптҳоро дар бар мегирад.

## Истифода
1. Нишонаи ShadowChrome-ро зер кунед, то попап кушода шавад. Сарлавҳаи ихчам интихобгари зудтари забон ва тугмаи танзимотро бо тасвири дандонача нишон медиҳад, ки рост ба саҳифаи пурраи опсияҳо мебарад.
2. Калиди `ss://` ё `ssconf://`-ро часпонед ва **Import access key**-ро зер кунед. ShadowChrome ҳамаи серверҳои воридшударо аз обуна нигоҳ медорад ва майдони воридотро мепечонад, то таваҷҷуҳ ба интихобкунаки ҷойгоҳ бимонад.
3. Агар якчанд сервер дастрас бошад, интихобкунаки ҷойгоҳ онҳоро аз рӯи камтарин таъхир ҷобаҷо мекунад. Нуқтаро интихоб карда **Connect**-ро зер кунед. Васеъшавӣ конфигуратсияро нигоҳ медорад ва проксии Chrome-ро ба мизоҷи маҳаллии Shadowsocks (`127.0.0.1:1080`) равона мекунад.
4. **Disconnect**-ро зер кунед, то танзимоти проксиро пок карда Chrome-ро ба ҳолати қаблӣ баргардонед.
5. Тугмаи **Settings**-ро бо тасвири дандонача истифода баред, то забонҳоро идора кунед, доменҳои CensorTracker-ро танзим намоед, бо менеҷерҳои Outline кор кунед ё ташхисро дар саҳифаи ҷудошудаи опсияҳо иҷро намоед.
6. Вақте ки кӯшиши бевоситаи пайваст ноком мешавад, ShadowChrome ба таври худкор серверҳои захиравии навро аз шабакаи CensorTracker дархост мекунад ва пеш аз нишон додани хатогӣ бо ҳамон нодҳо дубора талош мекунад.

> Пеш аз паҳн кардани лоиҳа ё такя кардан ба он дар муҳитҳои воқеӣ, интизориҳои истифодаи таҷрибавиро дар [`docs/USAGE_POLICY.md`](docs/USAGE_POLICY.md) мутолиа кунед.

## Рушд
Лоиҳа рӯҳияи кушодагиро дастгирӣ мекунад ва таҷрибаро ташвиқ менамояд. Рушдгарон метавонанд рамзи сарчашмаро омӯзанд ва такмилот ворид кунанд, бе тарк кардани экосистемаи JavaScript.

- Ҳамаи коди васеъшавӣ дар `src/` ҷойгир аст ва модули муосири ES-ро истифода мебарад.
- `npm install`-ро як маротиба иҷро кунед, то линтер ва вобастагиҳоро танзим намоед.
- `npm run lint`-ро иҷро кунед, то услуби кодро санҷед.

## Меъморӣ
Васеъшавӣ қасдан сода аст. Ҳар модул вазифадории танг дорад, ки метавонад алоҳида баррасӣ шавад:

- `popup.html` / `popup.js` интерфейси ихчам барои ворид кардани калидҳо, интихоби ҷойгоҳ ва оғоз ё боздоштани проксиро пешниҳод мекунанд.
- `options.html` / `options.js` консолаи пурраи идоракуниро бо интихоби забон, назорати реестр, серверҳои нигоҳдошта, абзорҳои Outline ва ташхис ҷой медиҳад.
- `ssConfig.js` истинодҳои `ss://` ва `ssconf://`-ро таҳлил мекунад, парсери калидҳои Outline-ро истифода мебарад ва обунаҳоро ба конфигуратсияҳои мушаххаси сервер табдил медиҳад.
- `registry.js` доменҳои CensorTracker, қоидаҳои фармоишӣ ва истисноҳоро муттаҳид мекунад ва пас аз он PAC-скриптро аз нав месозад.
- `censortrackerServer.js` ҷараёни ҳамоҳангсозии CensorTracker-ро дар дохили васеъшавӣ инъикос мекунад ва серверҳои эҳтиётии Shadowsocks-ро, ки CensorTracker медиҳад, кэш мекунад.
- `background.js` (service worker) танзимоти проксиро татбиқ мекунад ва мизоҷи пурраи Shadowsocks-ро тавассути `chrome.sockets` оғоз менамояд.

Барои шиносоии муфассал бо ҷараёни кор ва ҷузъиёт ба [`docs/DETAILED_DOCUMENTATION.md`](docs/DETAILED_DOCUMENTATION.md) нигаред.
Барои шурӯъ бо тавсифи модулҳо ва диаграммаҳои иҷро, [`docs/architecture/README.md`](docs/architecture/README.md)-ро кушоед.

## Дастури корбар

Таҷрибаи попап, ҳамгироӣ бо Outline Manager ва қадамҳои ҳаллу фасли мушкилот дар [`docs/USER_GUIDE.md`](docs/USER_GUIDE.md) шарҳ дода шудаанд.

## Ҳуҷҷатҳои маҳаллӣ

- [README.md](README.md) — шарҳ ба забони англисӣ.
- [README.ru.md](README.ru.md) — тарҷумаи русии ин шарҳ.
- [README.be.md](README.be.md) — версияи белорусии шарҳ.
- [README.uk.md](README.uk.md) — версияи украиналии шарҳ.

## Литсензия
[MIT](LICENSE).
<!-- Updated: 2025-11-17 -->
